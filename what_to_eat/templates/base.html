{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>What to Eat</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="shortcut icon"
      type="image/png"
      href="{% static 'img/favicon.png' %}"
    />
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Raleway"
    />
    <style>
      body,
      h1,
      h2,
      h3,
      h4,
      h5 {
        font-family: "Raleway", sans-serif;
      }
      .w3-quarter img {
        margin-bottom: -6px;
        cursor: pointer;
      }
      .w3-quarter img:hover {
        opacity: 0.6;
        transition: 0.3s;
      }
      body {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }
      footer{
        margin-top: auto;
      }
    </style>
  </head>
  <body class="w3-light-grey">
    !-- Sidebar/menu -->
    <nav
      class="w3-sidebar w3-bar-block w3-black w3-animate-right w3-top w3-text-light-grey w3-large"
      style="
        z-index: 3;
        width: 250px;
        font-weight: bold;
        display: none;
        right: 0;
      "
      id="mySidebar"
    >
      <a
        href="javascript:void()"
        onclick="w3_close()"
        class="w3-bar-item w3-button w3-center w3-padding-32"
        >CLOSE</a
      >
      {% if request.user.is_authenticated %}
      <a
      href="{% url 'profile' %}"
      onclick="w3_close()"
      class="w3-bar-item w3-button w3-center w3-padding-16"
      >PROFILE</a
    >    
      <a
        href="{% url 'logout' %}"
        onclick="w3_close()"
        class="w3-bar-item w3-button w3-center w3-padding-16"
        >LOGOUT</a
      >
      {% else %}
      <a
        href="{% url 'login' %}"
        onclick="w3_close()"
        class="w3-bar-item w3-button w3-center w3-padding-16"
        >LOGIN</a
      >
      <a
        href="{% url 'register' %}"
        onclick="w3_close()"
        class="w3-bar-item w3-button w3-center w3-padding-16"
        >REGISTER</a
      >    
      {% endif %} 
      <a
        href="#contact"
        onclick="w3_close()"
        class="w3-bar-item w3-button w3-center w3-padding-16"
        >CONTACT</a
      >    
    </nav>

    <!-- Top menu on small screens -->
    <header class="w3-container w3-top w3-white w3-xlarge w3-padding-16">
      <a href="{% url 'index' %}"><span class="w3-left w3-padding">What to eat?</span></a>
      <a
        href="javascript:void(0)"
        class="w3-right w3-button w3-white"
        onclick="w3_open()"
        >☰</a
      >
    </header>
    <!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

<!-- !PAGE CONTENT! -->
<div class="w3-main w3-content" style="max-width:1600px;margin-top:83px">
    {% block body %} {% endblock %}
</div>
    <footer>
    <div class="w3-black w3-center w3-padding-24">Powered by Django {{ django_current_version }} and <a href="https://github.com/chebishev">© chebishev 2025</a></div>
</footer>
    <script>
      // Script to open and close sidebar
      function w3_open() {
        document.getElementById("mySidebar").style.display = "block";
        document.getElementById("myOverlay").style.display = "block";
      }

      function w3_close() {
        document.getElementById("mySidebar").style.display = "none";
        document.getElementById("myOverlay").style.display = "none";
      }
    </script>
  </body>
</html>
